//////////////////////////////////////////////////////////////////////////
	◆ 僕の考えた最強のry Ver2.0◆
	  
	UTAUプラグイン by bizz
//////////////////////////////////////////////////////////////////////////

●はじめに
　ダウンロード頂きありがとうございます。
　これはいろんな機能を詰め合わせたUTAU用プラグインです。
　プラグイン本体はiroiro2.exeです。それ以外のtxtファイルは,
　機能によって使用したりしてなかったりしています。
　ので、いつの間にかプラグインが更新されていた際はiroiro2.exeだけ入れ替えれば
　設定等は引き継がれます。

●機能
　搭載機能の簡単な説明です。
　もっと詳しい内容はニコニコのブロマガに記載しています。（ar283750）

　１.文字系
　　・文字置換
　　・ローマ字→ひらがな
　　・ひらがな→ローマ字
　　・ローマ字連続
　　・単独音→連続音
　　・連続音→単独音
　　・VCCV→X-SAMPA
　　・X-SAMPA→VCCV
　　　　歌詞の文字を置換する画面が開きます。
　　　　"変換前"に現在の歌詞が表示されるので、"変換後"に置き換える文字を
　　　　入力してください。
　　　　Prev、Nextは選択範囲外の前、後のノートです。置換処理されません。
　　　　一括で変更したい場合は、一括置換から入力できます。
　　　　部分一致で変換する場合は部分置換を押してください。
　　　　※削除はできません。（例：「息」→「」みたいなこと）
　　　　文字置換以外の変換画面では、画面を開いた時にある程度自動で変換します。

　　　　Replaceフォルダの中に置換用の.txtファイルを置くことで
　　　　コンボボックスから選択できるようになります。
　　　　・CV-VCV　単独音→連続音の時に表示されるTXTを置くフォルダ
　　　　・Tikan　 文字置換の時に表示されるTXTを置くフォルダ
　　　　・VCV-CV　連続音→単独音の時に表示されるTXTを置くフォルダ

　　・歌詞すっぴん（したい）
　　　　１．歌詞に"_"(アンダーバー),"A"〜"G","叫","囁"があれば以降の文字を削除
	２．"0"〜"9"の文字を削除
	３．"?"、"!"、"↑"、"↓"を削除
	４．前後のスペースを削除
	を行って変換表を表示します。実行で実際に処理されます。

　　　/-------------------------------------------------------------------------
　　　　各ボタン
	【リセット】変換後を自動変換後の状態に戻します。
	【変更分反映】一度変換後に入力した、変更前と変換後の文字対応を、他の歌詞に反映させます。
　　　　【置換表編集】置換の対応表を編集できます。左と一致したものを右に置き換えます。
　　　/-------------------------------------------------------------------------

    ・歌詞を大明神式にする
	選択範囲中のノートで、前の音と音程が変わるノートの歌詞に入力した文字を追加します。
	音程が上がる時、下がる時に処理をするかどうかと、対象とする音階の幅を指定できます。
　　　　prefixmapのチェックを入れるとprefixで設定されている音階名を挿入します。

    ・歌詞をリズム式にする
	選択範囲中のノートで、指定した長さのノートの歌詞に入力した文字を追加します。
　　　　時間（ｍｓ）または長さで範囲を指定します。
　　　　prefixmapのチェックを入れるとprefixで設定されている音階名を挿入します。

　　・簡易版CVVC→単独音
　　　　CVVCの歌詞を単独音にします。（妄想）

　　・歌詞部分削除
　　　　選択範囲中の歌詞から、指定した文字を削除します。
　　　　複数の文字を指定する場合はカンマで区切って入力してください。
　　　　「?とPrefixmap登録文字を自動で入力するボタン」を押すと、
　　　　?とPrefixmap登録文字を自動で入力します。
　　　　「大明神式を自動で入力するボタン」を押すと、
　　　　↑と↓を自動で入力します。

　　・歌詞くっつける＋α
　　　　選択範囲中のノートの歌詞の前後に文字を追加します。
　　　　後ろのコンボボックスで選択できる文字はPrefixmapに登録されている文字です。
　　　　直接入力もできます。
　　　　おまけでフラグの追加と、音域の指定も可能です。
　
　２．処理系
　　・なんちゃってすっぴん
　　　　選択範囲のノートをすっぴんにしますが、チェックを付けた項目は残します。
	子音速度に関しては入力値が0〜200でないと空白になります。（どうしようもない）

　　・音符の長さ変更
　　　　選択範囲の音素を指定して、ノートの長さを〜倍や＋〜します。
　　　　数値で指定することも可能です。

　　・休符分割
　　　　選択範囲中の休符を、指定した長さで分割します。
　　　　余った分は休符の最後にくっつきます。

　　・休符連結
　　　　選択範囲中の休符を、ひとつにまとめます。

　　・エンペロープ自動設定
　　　　選択範囲中の、エンペロープを調節します。
　　　　※実行前に設定していようが関係なく上書きします。
　　　　UTAU V0.2xx ではうまくいかないこともあります。そのうち修正します（多分）。

　　・語尾エンペロープ調声
　　　　選択範囲中の、休符の前のノートのエンペロープを調節します。
　　　　UTAU V0.2xx ではうまくいかないこともあります。そのうち修正します（多分）。

　　・子音速度ランダム
　　　　子音速度に指定範囲の数値をランダムで足します。
　　　　基準値を設定すると、選択範囲の子音速度をすべて上書きします。
　　　　チェックを外せば、入力済みの値に対して動作します。

　　・ピッチランダムシフト
　　　指定した範囲でランダムにピッチ点を移動します。
　　　プラスマイナスは直接指定してください。
　　　チェックを付けるとノートの最初と最後のピッチは動かしません。

　　・ピッチ伸張
　　　　mode2しか対応してないよ！伸張率に数値が入ってるところだけ処理されるよ！

　　　　◆動作パターン
　　　　１．長さ調整済みの場合
　　　　　「ピッチだけ変える」を選択して元Lengthを入力すると伸張率が計算されるよ！
　　　　　伸張率だけ入力してもいいよ！

　　　　　調整前にUSTを保存しておくとその時の長さと比較できるよ！
　　　　　けど、ノートの分割・結合をしてたら変になるよ！

　　　　２．長さごと変える場合
　　　　　「ピッチとLengthも変える」を選択してね！
　　　　　今の状態を元の長さとして、変更後の長さをLengthに入力してね！
　　　　　全体の長さの計算とかしないから、自分で頑張ってね！

　　・ピッチずらす
　　　例によってmode2しか対応してません。
　　　指定した時間(ms)ピッチの位置をずらします。

　　・ピッチずらす
　　　例によってmode2しか対応してません。
　　　指定した範囲でピッチの位置をランダムに移動させます。
　　　
　　・なんちゃってケロケロ
　　　　mode2のピッチを直角にすることでケロケロっぽくします。
　　　　前の音程から垂直に音を変えます。タイミングは数値で指定できます。
　　　　前の音が休符の場合は2音下からしゃくります。

　　・ノートを分割して母音追加
　　　　ノートを分割して後ろを母音ノートにします。どこかで見たことがあるような気がします。
　　　　１．「子音部の長さ」で分割する長さを選択します。指定より短いノートは処理されません。
　　　　２．追加する母音に追加する記号や先行発声・オーバーラップをいじる場合の数値を入力します。
　　　　３．分割処理を行うノートの長さの指定や連続音形式の母音の設定を指定します。
　　　　４．OKを押します。
　　　　
　　　　※ちなみにiroiro2.exeと同じフォルダに「chara.png」という名前の画像をおくと、
　　　　　画面右側の背景にその画像が表示されます。（サイズは400×500ぐらいがちょうどいいです。）

　　・子音速度入力補助
　　　　子音の〜倍が子音速度でいくらになるか計算して、OKで入力します。
　　　　計算ボタンを押さなくてもEnterキーで計算結果が表示されます。
　　　　一応、子音速度を入れてEnterキーで逆算もできます。
　　　　若干誤差があるかもしれません。


　３．テスト中
　　・音素チェックUST作成
　　　　oto.iniに登録してあるエイリアス（なければファイル名）を、全て書き出します。
　　　　音程はC4固定で音の間に４分休符が入ります。
　　　　音の長さはoto.iniの設定によって変わります。
　　　　なお、この機能を使用するには選択範囲をノートの最後にする必要があります。
　　　　原音フォルダごとにUSTを作成して保存する。にちぇっくを付けると、
　　　　指定フォルダにUSTを作成します。
　　　
　　・時間→長さ変換
　　　　Time(ms)にミリ秒単位で入力すると、Lengthを計算してくれます。
　　　　おまけでクオンタイズもできます。
　　　　この機能は作者のスペック不足により、動作が正しいか保障できません。
　　　　目安としてお使いください。

　　・四捨五入的なクオンタイズ
　　　気にしないでください。

　　・suffixbrokerのやつ
　　　　suffixbrokerの設定を音源ごとに保存します。

　　・BMI測定
　　　　健康管理は大事です。

　　・$direct= 追加＆削除
	選択範囲に$direct=Trueを書き込む機能です。
　　　　OKでフラグを追加します。
　　　　キャンセルで書き込まれているフラグを削除します。

　　・X-SAMPA
	INPUTに入力した文字列を空白ごとに区切ってノートに流し込む機能です。
	convertの表の左側と一致する文字は表の右側の文字に置き換えます。
　　　　GO!ボタンで反映されます。
	convertの表の内容はclearで削除することが可能です。

	convertボタンを押すとINPUTを使用音源のエイリアス長い順に完全一致探索して、
	 一致したらカンマ区切りで下のメモ欄に書き出します。
　　　　 一致しなくてあきらめた部分はメッセージが出ます。
	GO!ボタンを押したときに、下のメモ欄に入力がある場合はそちらが優先されて反映されます。

	反映された結果の表では、右クリックで歌詞やノートの挿入や削除が可能です。
　　　　ノートを挿入した場合は前のノートを半分に分割し、削除した場合は前のノートに連結されます。

　　・プロパティ一括変換
　　　　音符のプロパティを連続的に編集する機能です。
　　　　左側に表示している音素に対してプロパティを編集出来ます。
　　　　基本的な操作は、音素選択→編集→適用の繰り返しです。

　　　　左側の表は詞、キー範囲、ヘッダー範囲で絞り込むことができます。
　　　　詞は完全一致か部分一致を選択できます。カンマ(,)で区切れば複数入力できます。
　　　　ヘッダー範囲は半角数字のみの入力で構いません。

　　　　一括入力ボタンは表に表示されているすべての音素に対して値を入力します。
　　　　スペースを入れると削除（空に）します。
　　　　何も入れなければ（背景グレーなら）なにもしません。
    
　　・選択範囲を別USTで保存
　　　　選択範囲に名前を付けて別のUSTとして保存します。
　　　　プロジェクト名は現在のファイル名となります。UTF8には対応してません。

　　・ハモりにする
　　　ベースのキーを選択すると、4音下げる音階と3音下げる音階を判定して処理します。
　　　ハモりになるかどうかは知りません。

　　・ラベルでグループ分けUST作成
　　　某利き中のUSTを作成したいがためにつけた機能です。
　　　以下の設定を手作業で行ったUSTがあることが前提です。
　　　１．先頭のノートのラベルに全てのパートを表すアルファベットを入力する。
　　　　例：「A」「B」「C」の3パートなら「ABC」

　　　２．パートの変わリ目のノートのラベルに、対応するアルファベットを入力する。
　　　　例：Aパートのみの部分なら「A」、AパートとBパートの2人で歌う部分なら「AB」

　　　ラベルを入力し終わったらプラグインで出力先フォルダを指定すると、
　　　"アルファベット名".USTが作成されます。
　　　　例：ABC なら「A.UST」「B.UST」「C.UST」の３つ

　　　パート名があるラベルから次のラベルまではそのまま出力され、
　　　次のラベルにパート名が無ければその先は歌詞が"R"に置き換わります。
　　　　例：　　　[ABC]　 〜 　[A]　  〜 　[AB]　 〜 　　[C]　 〜 
　　　　　　A.ust　歌詞有り　　 歌詞有り　  歌詞有り　　　"R"
　　　　　　B.ust　歌詞有り　　 "R" 　　　  歌詞有り　　　"R"
　　　　　　C.ust　歌詞有り　　 "R" 　　　  "R" 　　　　　歌詞有り

　　　先頭に全パートを入力する仕様上、先頭は"R"にしておくことが必要です。

　　・シャッフル
　　　ふたつの連続した音符のうち、初めの音符の長さを長めにとり、ふたつめの音符を短くするという
　　　シャッフルとかスウィングとか呼ばれる感じにします。
　　　一拍の中にノートが２つの場合のみ処理されます。３つ以上ある拍は処理されません。
　　　
　　　デフォルトでは4分音符の中の前部分を３連８分の２つ分、後ろを３連８分の１つ分にします。

　　　※注意
　　　　・選択範囲の先頭のノートを拍の頭にしないと上手くいきません。
　　　　・midiからのインポートのような、ノートの長さが細かくずれているものは上手くいきません。

　６．その他
　　・メニュー「設定」
　　　　休符の設定と語尾エンベロープの設定ができます。
　　　　休符の設定ではどの文字を休符とみなすか設定できます。
　　　　語尾エンベロープの設定では、自動調節時にp1の位置を先行発声に合わせるか
　　　　オーバーラップに合わせるかを選択できます。　　

　　・メニュー「バージョンチェック」
　　　　プラグインの更新をチェックします。
　　　　あくまでチェックするだけで、古くても自動更新とかしません。
　　　　インターネット環境が無い等では「取得に失敗しました。」って出ます。

　７．Test2
　　・おみず
　　　　なんか色々します。
　　　　全部の歌詞が歌えないと処理されません。歌詞修正してから実行してください。

　　・oto.iniソート
　　　　oto.iniをエイリアスでソートします。
　　　　左上のツリーを選択すると右のリストにoto.iniの中身が表示されます。
　　　　「ソート」を押すとソートされるので、「表示のものを上書き保存」で
　　　　oto.ini一つずつを上書きすることができます。
　　　　「全てをソートして上書き保存」を押すと左上のツリーに表示されている
　　　　すべてのoto.iniをソートして上書きします。
　　　　終わったら×で閉じてください。
　　　　なお、原音設定画面を開くと並び順を戻されるので注意してください。

　　・オルゴール用
　　　下記の設定をします。
　　　　◎歌詞をすべて「あ」
　　　　◎フラグに「BRE0P0」
　　　　◎mod100
　　　　◎No Formant Filterにチェック
　　　　

●免責事項

　　本ソフトウェアを使用することによるいかなる損害も、
　　作者は責任を負いません。
　　また、このソフトウェアの無断転載、及び無断商用利用を
　　禁止します。


●連絡先
　　ご意見、ご要望、不具合等ありましたらご連絡ください。
　　
　　twitter:@bizz_v

●更新履歴

2016/04/23 Ver2.0（テスト版）公開

2016/05/01 語尾にビブラート設定機能追加

2016/06/19 ラベルでグループ分けUST作成機能追加
　　　　　 バージョンチェック機能追加

2016/06/24 「選択範囲を別USTで保存」でファイルパスに日本語が含まれると
　　　　　　保存できない不具合を修正。

2016/08/21 ノートを分割して母音追加機能追加
　　　　　 BMI測定で身長に0を入力するとエラーする不具合を修正
　　　　　 歌詞すっぴん時に語尾音素を推定する処理を改善

2016/10/19 oto.iniソート機能追加

2016/12/08 子音速度入力補助機能追加
　　　　　 アプリのサイズ圧縮

2017/02/15 シャッフル機能追加
　　　　　 オルゴール用機能追加
           歌詞すっぴん（したい）機能を全面的に変更

2017/05/28 音素チェックUST作成にUST保存する機能の追加
　　　　　 おみず機能の追加

2017/07/17 歌詞すっぴん（したい）のバグ修正

2017/10/07 文字変換にprefixmapの読み込み機能追加

2017/12/03 置換ファイルの選択コンボボックス追加
　　　　　 Language.txt読み込み対応（暫定））
